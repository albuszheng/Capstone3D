<?xml version="1.0" encoding="utf-8" ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml" style="font-size:1.200rem;"><head><title>Splitting the common view content into reusable views</title><link rel="stylesheet" href="../Styles/style0001.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"/></head><body id="page"><div class="section" title="Splitting the common view content into reusable views" id="aid-LTSU1"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec17"></a>Splitting the common view content into reusable views</h1></div></div></div><p>Sometimes, views <a id="id101" class="indexterm"></a>share the same common portion <a id="id102" class="indexterm"></a>of content. In the examples made until now, we have seen that a common area for <code class="literal">itemsList</code> and <code class="literal">itemDetail</code> could be copyright data, which displays a disclaimer about copyright info.</p><p>In order to make this, we must put the common content in a separate view and call it using the <code class="literal">renderPartial()</code> method<a id="id103" class="indexterm"></a> of controller (<a class="ulink" href="http://www.yiiframework.com/doc-2.0/yii-base-controller.html#renderPartial%28%29-detail">http://www.yiiframework.com/doc-2.0/yii-base-controller.html#renderPartial%28%29-detail</a>). It has the same types of parameters of the <code class="literal">render()</code> method; the main difference between the <code class="literal">render()</code> and <code class="literal">renderPartial()</code> methods is that <code class="literal">render()</code> writes a view content in layout and <code class="literal">renderPartial()</code> writes only view contents to output.</p><div class="section" title="Example &ndash; render partial in view"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec14"></a>Example &ndash; render partial in view</h2></div></div></div><p>In this example, we create a <a id="id104" class="indexterm"></a>common view for both <code class="literal">itemsList</code> and <code class="literal">itemDetail</code> about copyright data.</p><p>Create a view file named <code class="literal">_copyright.php</code> in <code class="literal">views/news</code>.</p><div class="note" title="Note"><h3 class="title"><a id="note07"></a>Note</h3><p>Usually, in Yii2's app, a view name that starts with underscore stands for common reusable view.</p></div><p>In this file, put only a text for copyright into <code class="literal">views/news/_copyright.php</code>:</p><div class="informalexample"><pre class="programlisting">&lt;div&gt;
     This is text about copyright data for news items
&lt;/div&gt;</pre></div><p>Now, we want to <a id="id105" class="indexterm"></a>display this view inside the <code class="literal">itemsList</code> and <code class="literal">itemDetail</code> views.</p><p>Change the content in <code class="literal">itemsList.php</code> located at <code class="literal">views/news/</code> as follows:</p><div class="informalexample"><pre class="programlisting">&lt;?php echo $this-&gt;context-&gt;renderPartial('_copyright'); ?&gt;
&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Title&lt;/th&gt;
    &lt;th&gt;Date&lt;/th&gt;
  &lt;/tr&gt;
  &lt;?php foreach($newsList as $item) { ?&gt;
  &lt;tr&gt;
    &lt;th&gt;&lt;a href="&lt;?php echo Yii::$app-&gt;urlManager-&gt;createUrl(['news/item-detail' , 'id' =&gt; $item['id']]) ?&gt;"&gt; &lt;?php echo $item['title'] ?&gt; &lt;/a&gt;&lt;/th&gt;
    &lt;th&gt;&lt;?php echo Yii::$app-&gt;formatter-&gt;asDatetime($item['date'], 'php:d/m/Y'); ?&gt;&lt;/th&gt;
  &lt;/tr&gt;
  &lt;?php } ?&gt;
&lt;/table&gt;</pre></div><p>Then, change the content in <code class="literal">itemDetail.php</code> located at <code class="literal">views/news/</code> as follows:</p><div class="informalexample"><pre class="programlisting">&lt;?php // $item is from actionItemDetail ?&gt;
&lt;?php echo $this-&gt;context-&gt;renderPartial('_copyright'); ?&gt;
&lt;h2&gt;News Item Detail&lt;h2&gt;
&lt;br /&gt;
Title: &lt;b&gt;&lt;?php echo $item['title'] ?&gt;&lt;/b&gt;
&lt;br /&gt;
Date: &lt;b&gt;&lt;?php echo $item['date'] ?&gt;&lt;/b&gt;</pre></div><p>We have put a common code at the top of the file in both views:</p><div class="informalexample"><pre class="programlisting">&lt;?php echo $this-&gt;context-&gt;renderPartial('_copyright'); ?&gt;</pre></div><p>This will render the content of the <code class="literal">_copyright.php</code> view without layout.</p><div class="note" title="Note"><h3 class="title"><a id="note08"></a>Note</h3><p>Pay attention! Since <code class="literal">renderPartial()</code> is a method of the <code class="literal">Controller</code> class and <code class="literal">$this</code> refers to the <code class="literal">View</code> class in the view file, to access from <code class="literal">$this</code> to <code class="literal">renderPartial()</code> we will use the context member, which represents the <code class="literal">Controller</code> object in the <code class="literal">View</code> object.</p></div></div></div></body></html>